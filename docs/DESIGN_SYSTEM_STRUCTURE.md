# Copy That: Design System Structure Specification

## Overview

This document defines the industry-standard structure, taxonomy, and organization for design systems generated by Copy That. It ensures outputs are immediately usable by designers and developers across multiple platforms and tools.

---

## 1. Design System Architecture

### 1.1 Hierarchical Structure

```
Design System
├── Foundation Layer (Design Tokens)
│   ├── Primitive Tokens
│   └── Semantic Tokens
├── Component Layer
│   ├── Atoms (buttons, inputs, icons)
│   ├── Molecules (search bar, card header)
│   └── Organisms (navigation, forms)
├── Pattern Layer
│   ├── Layout Patterns
│   └── Interaction Patterns
└── Documentation Layer
    ├── Usage Guidelines
    └── Implementation Examples
```

### 1.2 Token Taxonomy (Industry Standard)

Copy That will generate tokens following the **Design Tokens Community Group** specification:

#### Primitive Tokens (Foundation)
These are the raw values extracted from the reference image:

```json
{
  "color": {
    "blue": {
      "50": "#e3f2fd",
      "100": "#bbdefb",
      "500": "#2196f3",
      "900": "#0d47a1"
    },
    "gray": {
      "50": "#fafafa",
      "500": "#9e9e9e",
      "900": "#212121"
    }
  },
  "spacing": {
    "0": "0px",
    "1": "4px",
    "2": "8px",
    "3": "12px",
    "4": "16px",
    "6": "24px",
    "8": "32px",
    "12": "48px"
  },
  "borderRadius": {
    "none": "0px",
    "sm": "4px",
    "md": "8px",
    "lg": "12px",
    "xl": "16px",
    "full": "9999px"
  },
  "shadow": {
    "sm": "0 1px 2px rgba(0,0,0,0.05)",
    "md": "0 4px 6px rgba(0,0,0,0.1)",
    "lg": "0 10px 15px rgba(0,0,0,0.1)",
    "xl": "0 20px 25px rgba(0,0,0,0.1)"
  }
}
```

#### Semantic Tokens (Contextual)
These map primitive tokens to specific use cases:

```json
{
  "color": {
    "background": {
      "primary": "{color.blue.500}",
      "secondary": "{color.gray.50}",
      "elevated": "{color.white}"
    },
    "text": {
      "primary": "{color.gray.900}",
      "secondary": "{color.gray.500}",
      "inverse": "{color.white}"
    },
    "action": {
      "primary": "{color.blue.500}",
      "primaryHover": "{color.blue.600}",
      "danger": "{color.red.500}"
    }
  },
  "spacing": {
    "component": {
      "paddingX": "{spacing.4}",
      "paddingY": "{spacing.2}",
      "gap": "{spacing.2}"
    },
    "layout": {
      "containerGap": "{spacing.6}",
      "sectionGap": "{spacing.12}"
    }
  }
}
```

### 1.3 Component Taxonomy

#### Atoms (Primitives)
- **Button**: Primary, Secondary, Tertiary, Ghost, Danger, Success
- **Input**: Text, Email, Password, Number, Search
- **Icon**: Action, Status, Navigation, Social
- **Badge**: Status, Count, Label
- **Divider**: Horizontal, Vertical
- **Avatar**: Small, Medium, Large, Image, Initials

#### Molecules (Compositions)
- **Input Field**: Input + Label + Helper Text
- **Search Bar**: Input + Search Icon + Clear Button
- **Card Header**: Title + Subtitle + Action Button
- **Navigation Item**: Icon + Label + Badge
- **Form Field**: Label + Input + Validation Message

#### Organisms (Sections)
- **Navigation Bar**: Logo + Menu Items + Actions
- **Card**: Header + Body + Footer
- **Form**: Multiple Fields + Submit Button
- **Modal**: Header + Content + Actions
- **Table**: Header + Rows + Pagination

---

## 2. Variant Hierarchy

### 2.1 Variant Dimensions

Every component should support these variant dimensions:

#### 1. Size Variants
```
xs    - Extra small (0.75x base)
sm    - Small (0.875x base)
md    - Medium (1.0x base - default)
lg    - Large (1.25x base)
xl    - Extra large (1.5x base)
```

#### 2. Color/Type Variants
```
primary      - Main brand color
secondary    - Supporting brand color
tertiary     - Subtle/less emphasis
ghost        - Transparent/minimal
danger       - Error/destructive actions
success      - Positive actions
warning      - Cautionary actions
info         - Informational
```

#### 3. State Variants
```
default      - Resting state
hover        - Mouse over
active       - Pressed/clicked
focus        - Keyboard focus
disabled     - Inactive/unavailable
loading      - Processing state
error        - Validation error
success      - Validation success
```

#### 4. Theme Variants
```
light        - Light mode
dark         - Dark mode
highContrast - Accessibility high contrast
```

### 2.2 Naming Convention

Format: `{component}-{type}-{size}-{state}-{theme}`

Examples:
```
button-primary-md-default-light.svg
button-primary-md-hover-light.svg
button-secondary-lg-disabled-dark.svg
input-text-md-focus-light.svg
card-elevated-lg-default-dark.svg
```

---

## 3. File Organization

### 3.1 Directory Structure

```
design-system/
├── tokens/
│   ├── primitive/
│   │   ├── colors.json
│   │   ├── spacing.json
│   │   ├── typography.json
│   │   ├── borderRadius.json
│   │   ├── shadows.json
│   │   └── animation.json
│   ├── semantic/
│   │   ├── colors.json
│   │   ├── spacing.json
│   │   └── effects.json
│   └── platforms/
│       ├── web.css
│       ├── ios.swift
│       ├── android.xml
│       └── flutter.dart
├── components/
│   ├── atoms/
│   │   ├── button/
│   │   │   ├── button.metadata.json
│   │   │   ├── variants/
│   │   │   │   ├── primary/
│   │   │   │   │   ├── button-primary-sm-default-light.svg
│   │   │   │   │   ├── button-primary-sm-hover-light.svg
│   │   │   │   │   └── ...
│   │   │   │   ├── secondary/
│   │   │   │   └── ghost/
│   │   │   └── states/
│   │   │       ├── default/
│   │   │       ├── hover/
│   │   │       └── disabled/
│   │   ├── input/
│   │   ├── icon/
│   │   └── badge/
│   ├── molecules/
│   │   ├── input-field/
│   │   ├── search-bar/
│   │   └── card-header/
│   └── organisms/
│       ├── navigation/
│       ├── card/
│       └── modal/
├── patterns/
│   ├── layouts/
│   │   ├── grid-system.json
│   │   ├── responsive-breakpoints.json
│   │   └── container-widths.json
│   └── interactions/
│       ├── transitions.json
│       └── animations.json
├── docs/
│   ├── index.html
│   ├── getting-started.md
│   ├── design-principles.md
│   ├── accessibility.md
│   └── components/
│       ├── button.md
│       ├── input.md
│       └── ...
└── exports/
    ├── figma/
    │   └── design-system.fig
    ├── sketch/
    │   └── design-system.sketch
    ├── adobe-xd/
    │   └── design-system.xd
    └── code/
        ├── react/
        ├── vue/
        └── web-components/
```

### 3.2 Component Metadata Structure

Each component includes a `.metadata.json` file:

```json
{
  "component": "button",
  "type": "atom",
  "version": "1.0.0",
  "description": "Interactive button component for user actions",
  "variants": {
    "type": ["primary", "secondary", "ghost", "danger", "success"],
    "size": ["sm", "md", "lg", "xl"],
    "state": ["default", "hover", "active", "disabled", "loading"],
    "theme": ["light", "dark"]
  },
  "properties": {
    "paddingX": "{spacing.component.paddingX}",
    "paddingY": "{spacing.component.paddingY}",
    "borderRadius": "{borderRadius.md}",
    "fontSize": "{typography.body.md}",
    "fontWeight": "{typography.weight.medium}",
    "minWidth": "88px",
    "minHeight": "36px"
  },
  "accessibility": {
    "role": "button",
    "minTouchTarget": "44px",
    "focusIndicator": "2px outline",
    "contrastRatio": "4.5:1"
  },
  "usage": {
    "dos": [
      "Use primary buttons for main actions",
      "Limit to one primary button per section"
    ],
    "donts": [
      "Don't use multiple primary buttons in close proximity",
      "Don't use for navigation (use links instead)"
    ]
  },
  "generatedFrom": {
    "referenceImage": "material-design-ui.png",
    "visualDNA": "analysis/visual-dna.json",
    "extractedAt": "2025-10-30T15:30:00Z"
  }
}
```

---

## 4. Design Token Formats

### 4.1 Primary Format: Design Tokens Community Group

**File**: `tokens/tokens.json`

```json
{
  "color": {
    "primary": {
      "$type": "color",
      "$value": "#2196f3",
      "$description": "Primary brand color"
    }
  },
  "spacing": {
    "sm": {
      "$type": "dimension",
      "$value": "8px"
    }
  }
}
```

### 4.2 Platform-Specific Exports

#### CSS Variables
**File**: `tokens/platforms/web.css`

```css
:root {
  /* Colors */
  --color-primary: #2196f3;
  --color-background-primary: #ffffff;
  --color-text-primary: #212121;

  /* Spacing */
  --spacing-sm: 8px;
  --spacing-md: 16px;

  /* Border Radius */
  --radius-md: 8px;

  /* Shadows */
  --shadow-md: 0 4px 6px rgba(0,0,0,0.1);
}
```

#### SCSS Variables
**File**: `tokens/platforms/web.scss`

```scss
// Colors
$color-primary: #2196f3;
$color-background-primary: #ffffff;

// Spacing
$spacing-sm: 8px;
$spacing-md: 16px;

// Maps for iteration
$colors: (
  "primary": $color-primary,
  "background-primary": $color-background-primary
);
```

#### iOS Swift
**File**: `tokens/platforms/ios.swift`

```swift
import UIKit

struct DesignTokens {
    struct Colors {
        static let primary = UIColor(hex: "#2196f3")
        static let backgroundPrimary = UIColor(hex: "#ffffff")
    }

    struct Spacing {
        static let sm: CGFloat = 8
        static let md: CGFloat = 16
    }

    struct BorderRadius {
        static let md: CGFloat = 8
    }
}
```

#### Android XML
**File**: `tokens/platforms/android.xml`

```xml
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <!-- Colors -->
    <color name="color_primary">#2196f3</color>
    <color name="color_background_primary">#ffffff</color>

    <!-- Spacing -->
    <dimen name="spacing_sm">8dp</dimen>
    <dimen name="spacing_md">16dp</dimen>

    <!-- Border Radius -->
    <dimen name="radius_md">8dp</dimen>
</resources>
```

#### Tailwind Config
**File**: `tokens/platforms/tailwind.config.js`

```javascript
module.exports = {
  theme: {
    extend: {
      colors: {
        primary: '#2196f3',
        'background-primary': '#ffffff',
      },
      spacing: {
        'sm': '8px',
        'md': '16px',
      },
      borderRadius: {
        'md': '8px',
      },
    },
  },
}
```

---

## 5. Component Export Formats

### 5.1 Vector Formats (Preferred)

#### SVG (Primary)
- Scalable without quality loss
- Editable in design tools
- Web-ready
- Small file size

```svg
<!-- button-primary-md-default-light.svg -->
<svg width="120" height="40" viewBox="0 0 120 40">
  <defs>
    <filter id="shadow">
      <feGaussianBlur in="SourceAlpha" stdDeviation="2"/>
      <feOffset dx="0" dy="2"/>
    </filter>
  </defs>
  <rect x="0" y="0" width="120" height="40"
        rx="8" fill="#2196f3"
        filter="url(#shadow)"/>
  <text x="60" y="24" text-anchor="middle"
        fill="#ffffff" font-size="14">Button</text>
</svg>
```

#### PDF (Print/High-Fidelity)
- For design reviews
- Print materials
- High-quality presentations

### 5.2 Raster Formats (Reference)

#### PNG (with transparency)
- @1x (base)
- @2x (retina)
- @3x (high-density)

#### WebP (Web Optimized)
- Smaller file size
- Modern browsers

---

## 6. Design Tool Integration

### 6.1 Figma Export Structure

```
Figma File Structure
├── Cover Page (Project info)
├── Design Tokens
│   ├── Color Styles
│   ├── Text Styles
│   └── Effect Styles
├── Components
│   ├── Atoms
│   │   └── Button (Component with variants)
│   ├── Molecules
│   └── Organisms
├── Patterns
│   ├── Layout Grid
│   └── Spacing System
└── Documentation
    └── Usage Examples
```

#### Figma Component Properties

```
Button Component
├── Variant: Type (primary, secondary, ghost, danger)
├── Variant: Size (sm, md, lg, xl)
├── Variant: State (default, hover, active, disabled)
├── Property: Icon (boolean)
├── Property: Label (text)
└── Property: Full Width (boolean)
```

### 6.2 Sketch Export

```
Sketch Library
├── Symbols
│   ├── Buttons
│   ├── Inputs
│   └── Cards
├── Layer Styles
│   ├── Colors
│   └── Shadows
└── Text Styles
    ├── Heading 1
    ├── Body
    └── Caption
```

### 6.3 Adobe XD Export

```
XD Library
├── Components
│   ├── Buttons (with states)
│   ├── Inputs
│   └── Cards
├── Character Styles
└── Color Assets
```

---

## 7. Responsive Design System

### 7.1 Breakpoint System

```json
{
  "breakpoints": {
    "mobile": {
      "min": "0px",
      "max": "639px"
    },
    "tablet": {
      "min": "640px",
      "max": "1023px"
    },
    "desktop": {
      "min": "1024px",
      "max": "1279px"
    },
    "wide": {
      "min": "1280px"
    }
  }
}
```

### 7.2 Responsive Component Variants

Each component should define responsive behavior:

```json
{
  "button": {
    "responsive": {
      "mobile": {
        "size": "md",
        "fullWidth": true
      },
      "tablet": {
        "size": "md",
        "fullWidth": false
      },
      "desktop": {
        "size": "lg",
        "fullWidth": false
      }
    }
  }
}
```

---

## 8. Accessibility Standards

### 8.1 Required Accessibility Properties

All components must include:

```json
{
  "accessibility": {
    "minContrastRatio": "4.5:1",
    "minTouchTarget": "44px",
    "focusIndicator": {
      "style": "outline",
      "width": "2px",
      "offset": "2px",
      "color": "{color.action.primary}"
    },
    "screenReaderLabel": "Button label",
    "ariaRole": "button",
    "keyboardShortcut": "Enter/Space"
  }
}
```

### 8.2 WCAG 2.1 Compliance Levels

Generate components meeting:
- **AA**: Minimum standard (4.5:1 contrast, 44px touch targets)
- **AAA**: Enhanced (7:1 contrast for text, enhanced focus indicators)

---

## 9. Version Control & Documentation

### 9.1 Semantic Versioning

```
MAJOR.MINOR.PATCH

1.0.0 - Initial release
1.1.0 - New component added
1.1.1 - Bug fix/visual refinement
2.0.0 - Breaking change to token structure
```

### 9.2 Changelog Format

```markdown
# Changelog

## [1.1.0] - 2025-10-30

### Added
- New badge component with 4 variants
- Dark theme support for all components

### Changed
- Updated button hover state for better accessibility
- Increased minimum touch target to 44px

### Fixed
- Corrected color contrast in ghost button variant
```

---

## 10. Implementation Example

### Complete Button Component Package

```
components/atoms/button/
├── button.metadata.json           # Component definition
├── button.documentation.md        # Usage guidelines
├── variants/
│   ├── primary/
│   │   ├── button-primary-sm-default-light.svg
│   │   ├── button-primary-sm-hover-light.svg
│   │   ├── button-primary-sm-active-light.svg
│   │   ├── button-primary-sm-disabled-light.svg
│   │   ├── button-primary-md-default-light.svg
│   │   └── ... (all size/state combinations)
│   ├── secondary/
│   ├── ghost/
│   └── danger/
├── assets/
│   ├── @1x/  # Base resolution PNGs
│   ├── @2x/  # Retina PNGs
│   └── @3x/  # High-density PNGs
└── code/
    ├── button.react.tsx
    ├── button.vue
    └── button.web-component.js
```

This structure ensures:
- Immediate usability in design tools
- Developer-ready exports
- Clear documentation
- Scalable organization
- Industry-standard compatibility

---

## Summary

This design system structure provides:

1. Industry-standard token taxonomy
2. Comprehensive variant coverage
3. Multiple export formats
4. Design tool integration
5. Accessibility compliance
6. Clear documentation
7. Scalable organization

Copy That will generate design systems that designers and developers can immediately integrate into their workflows without restructuring or reformatting.

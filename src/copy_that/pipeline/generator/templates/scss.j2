/**
 * SCSS Variables
 * Generated by copy-that
 */

{% if use_maps | default(false) %}
{% set grouped = {} %}
{% for token in tokens %}
{% set group = token.path[0] if token.path else "root" %}
{% if group not in grouped %}
{% set _ = grouped.update({group: []}) %}
{% endif %}
{% set _ = grouped[group].append(token) %}
{% endfor %}

{% for group, group_tokens in grouped.items() %}
${{ group }}: (
{% for token in group_tokens %}
{% set key_path = token.path[1:] + [token.name] if token.path else [token.name] %}
{% set key = key_path | join("-") %}
  "{{ key }}": {% if token.reference %}{{ token.reference | resolve_reference("scss") }}{% elif token.value is mapping %}{{ token.value | tojson }}{% else %}{{ token.value }}{% endif %}{% if not loop.last %},{% endif %}

{% endfor %}
);

{% endfor %}
{% else %}
{% for token in tokens %}
{% set var_name = (token.path + [token.name]) | to_scss_var %}
{% if token.description %}
// {{ token.description }}
{% endif %}
{% if token.reference %}
{{ var_name }}: {{ token.reference | resolve_reference("scss") }};
{% elif token.value is mapping %}
{% if token.w3c_type == "shadow" %}
{{ var_name }}: {{ token.value | shadow_to_css }};
{% else %}
{{ var_name }}: {{ token.value | tojson }};
{% endif %}
{% else %}
{{ var_name }}: {{ token.value }};
{% endif %}
{% endfor %}
{% endif %}

# Copy That - Environment Configuration Template
# Copy this to .env.local, .env.staging, .env.production

# ============================================
# ENVIRONMENT
# ============================================
ENVIRONMENT=local  # local | staging | production

# ============================================
# API CONFIGURATION
# ============================================
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=true  # Set to false in production
LOG_LEVEL=INFO   # DEBUG | INFO | WARNING | ERROR

# ============================================
# DATABASE (Loose Coupling - swap providers easily)
# ============================================
# Neon.tech (FREE Postgres) - used for all environments
DATABASE_URL=postgresql+asyncpg://user:pass@ep-name-123456.us-east-2.aws.neon.tech/neondb?sslmode=require

# Staging: Cloud SQL (PostgreSQL)
# DATABASE_URL=postgresql+asyncpg://user:pass@/dbname?host=/cloudsql/project:region:instance

# Production: Cloud SQL (PostgreSQL)
# DATABASE_URL=postgresql+asyncpg://user:pass@/dbname?host=/cloudsql/project:region:instance

# ============================================
# STORAGE (Loose Coupling - local or cloud)
# ============================================
STORAGE_BACKEND=local  # local | gcs
LOCAL_STORAGE_PATH=./storage
GCS_BUCKET=copy-that-uploads
GCS_PROJECT_ID=copy-that-platform

# ============================================
# VISION/AI (Loose Coupling - swap providers)
# ============================================
VISION_BACKEND=gcp  # gcp | aws | azure | local
ML_BACKEND=vertex   # vertex | local | aws

# GCP Vision API
GCP_VISION_ENABLED=true

# Vertex AI
VERTEX_AI_PROJECT=copy-that-platform
VERTEX_AI_LOCATION=us-central1
VERTEX_AI_ENDPOINT_ID=

# Claude API (optional enhancement)
ANTHROPIC_API_KEY=

# ============================================
# AUTHENTICATION & SECURITY (SaaS essentials)
# ============================================
SECRET_KEY=your-secret-key-change-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# OAuth2 (for SaaS social login)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# ============================================
# CACHING & QUEUE (SaaS performance)
# ============================================
# Local: Local Redis
REDIS_URL=redis://localhost:6379/0
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# Minimal Cloud: Upstash (FREE Redis)
# REDIS_URL=redis://default:pass@usw2-enabled-firefly-12345.upstash.io:6379

# Full Cloud: Memorystore (GCP)
# REDIS_URL=redis://10.x.x.x:6379/0

# ============================================
# MONITORING & OBSERVABILITY (SaaS critical)
# ============================================
SENTRY_DSN=
SENTRY_TRACES_SAMPLE_RATE=0.1
PROMETHEUS_ENABLED=true
OTEL_EXPORTER_OTLP_ENDPOINT=

# ============================================
# RATE LIMITING (SaaS protection)
# ============================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ============================================
# MULTI-TENANCY (SaaS architecture)
# ============================================
TENANT_ISOLATION_STRATEGY=schema  # schema | row | database
MAX_TENANTS_PER_INSTANCE=100

# ============================================
# BILLING & SUBSCRIPTIONS (Future SaaS)
# ============================================
STRIPE_API_KEY=
STRIPE_WEBHOOK_SECRET=
FREE_TIER_LIMIT=10  # Extractions per month
PRO_TIER_LIMIT=1000
ENTERPRISE_TIER_LIMIT=-1  # Unlimited
